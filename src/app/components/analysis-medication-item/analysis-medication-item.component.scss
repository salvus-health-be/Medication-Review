@import '../../../styles/colors';
@import '../../../styles/fonts';

.analysis-medication-item {
  display: block;
  position: relative;
  
  .doses-per-day {
    position: absolute;
    bottom: 0.5rem;
    right: 10rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--primary-color);
    background: rgba(255, 255, 255, 0.9);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    z-index: 10;
  }
  
  ::ng-deep .medication-item {
    height: 4.5rem; // Fixed height to align with schema rows
    margin-bottom: 1rem;
    
    .medication-header {
      height: 100%;
      overflow: hidden;
      pointer-events: none !important;
      cursor: default !important;
      // Drastically reduce padding to fit content
      padding: 0.6rem 0.75rem !important;
    }
    
    // Re-enable pointer events for action buttons
    .action-buttons {
      pointer-events: auto !important;
    }
    
    // Allow header content to flow naturally
    .header-content {
      display: block !important;
      width: 100%;
    }
    
    .medication-name {
      font-size: 0.9rem !important;
      font-weight: 700 !important;
      margin-bottom: 0.25rem !important;
      line-height: 1.2 !important;
      
      /* Force single line for name to save vertical space */
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      display: block !important;
      width: 100%;
    }
    
    .medication-codes {
      display: none !important; // Hide CNK and VMP codes
    }
    
    /* Make Frequency and Indication display inline to save space if needed, or just compact blocks */
    
    .header-frequency {
      display: inline-block !important;
      margin-top: 0 !important;
      margin-right: 0.5rem !important;
      vertical-align: middle !important;
      font-size: 0.7rem !important;
    }

    .as-needed-badge {
      display: inline-block !important;
      margin-top: 0 !important;
      margin-right: 0.5rem !important;
      vertical-align: middle !important;
      font-size: 0.7rem !important;
    }

    .medication-indication {
      display: inline-block !important;
      font-size: 0.75rem !important;
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      max-width: 140px !important; /* Prevent it from pushing layout too wide */
      opacity: 0.95 !important;
      visibility: visible !important;
      margin-top: 0 !important;
      vertical-align: middle !important;
      color: #15803d !important; /* Distinct green color */
      font-style: italic !important;
      line-height: 1.2 !important;
    }
    
    .medication-details {
      display: none !important;
    }
  }
}