<aside class="toolbar">
  <div 
  *ngFor="let tool of tools" 
    class="tool-item" 
    (click)="onToolClick(tool.id)" 
    [class.active]="activeTool === tool.id">
    <div class="tool-icon">
      @if (tool.id === 'interactions') {
        <span class="badge" [class.badge-zero]="interactionCount === 0">{{ interactionCount }}</span>
      }
      @if (tool.id === 'contra-indications') {
        <span class="badge" [class.badge-zero]="contraindicationCount === 0">{{ contraindicationCount }}</span>
      }
      @switch (tool.icon) {
        @case ('grid') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
            <line x1="3" y1="9" x2="21" y2="9" stroke="currentColor" stroke-width="2"/>
            <line x1="3" y1="15" x2="21" y2="15" stroke="currentColor" stroke-width="2"/>
            <line x1="9" y1="9" x2="9" y2="21" stroke="currentColor" stroke-width="2"/>
          </svg>
        }
        @case ('clock-pill') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
            <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <ellipse cx="18" cy="18" rx="4" ry="2.5" fill="currentColor"/>
          </svg>
        }
        @case ('pills-warning') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <ellipse cx="8" cy="12" rx="4" ry="6" stroke="currentColor" stroke-width="2"/>
            <ellipse cx="16" cy="12" rx="4" ry="6" stroke="currentColor" stroke-width="2"/>
            <path d="M12 4l-1 3h2l-1 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        }
        @case ('person-warning') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
            <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" stroke="currentColor" stroke-width="2"/>
            <path d="M12 12l4 4m0-4l-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        }
        @case ('pill-times') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <ellipse cx="12" cy="12" rx="5" ry="8" stroke="currentColor" stroke-width="2"/>
            <text x="18" y="10" font-size="8" fill="currentColor" font-weight="bold">2Ã—</text>
          </svg>
        }
        @case ('kidney') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 3v3a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V3" stroke="currentColor" stroke-width="2"/>
            <path d="M6 8h12a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2z" stroke="currentColor" stroke-width="2"/>
            <path d="M8 12h8M8 16h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        }
        @case ('shield-plus') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7v10c0 5.5 4.5 9 10 9s10-3.5 10-9V7l-10-5z" stroke="currentColor" stroke-width="2"/>
            <path d="M12 8v8M8 12h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        }
        @case ('play-stop') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <polygon points="6,4 6,20 18,12" fill="currentColor"/>
            <rect x="18" y="4" width="2" height="16" fill="currentColor"/>
          </svg>
        }
        @case ('document') {
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z" stroke="currentColor" stroke-width="2"/>
            <path d="M14 2v6h6M9 13h6M9 17h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        }
      }
    </div>
    <div class="tool-label">{{ tool.label | transloco }}</div>
  </div>
</aside>
