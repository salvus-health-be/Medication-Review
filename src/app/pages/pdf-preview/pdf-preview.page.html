<div class="pdf-preview-page">
  <div class="page-header">
    <h1>PDF Preview</h1>
    <div class="header-actions">
      <button class="btn-secondary" (click)="downloadPdf()">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        Download PDF
      </button>
      <button class="btn-primary" (click)="navigateToAnamnesis()">
        Continue to Actions
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="5" y1="12" x2="19" y2="12"></line>
          <polyline points="12 5 19 12 12 19"></polyline>
        </svg>
      </button>
    </div>
  </div>

  <div class="preview-container">
    @if (isLoading) {
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Generating PDF preview...</p>
      </div>
    } @else if (pdfPreviewUrl) {
      <embed 
        [src]="pdfPreviewUrl" 
        type="application/pdf"
        class="pdf-iframe"
        title="PDF Preview"
      />
    } @else {
      <div class="error-state">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="12"></line>
          <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        <h2>{{ 'pdf_errors.failed_to_generate' | transloco }}</h2>
        <p>Please try again or contact support if the problem persists.</p>
      </div>
    }
  </div>
</div>
